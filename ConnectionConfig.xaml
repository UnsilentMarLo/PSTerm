<!--
    PSTerm - A powerful native PowerShell Serial/SSH/Telnet Terminal.
    Copyright (C) 2025 Marlo K <Plays.xenon@yahoo.de>

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->
<Window xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Connection Configuration" 
        SizeToContent="WidthAndHeight" 
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        FontFamily="Segoe UI">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="Auto"/>
        </Grid.ColumnDefinitions>

        <!-- Profile Management -->
        <GroupBox Header="Profile" Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" Margin="5">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <Label Content="Select Profile:" VerticalAlignment="Center" Margin="5"/>
                <ComboBox x:Name="cbProfiles" Grid.Column="1" VerticalAlignment="Center" Margin="5" IsEditable="True"/>
                <Button x:Name="btnSaveProfile" Content="Save" Grid.Column="2" Margin="5,5,0,5" Padding="10,2"/>
                <Button x:Name="btnDeleteProfile" Content="Delete" Grid.Column="3" Margin="5" Padding="10,2"/>
            </Grid>
        </GroupBox>

        <!-- Left Pane -->
        <StackPanel Grid.Row="1" Grid.Column="0" Grid.RowSpan="2">
            <!-- Connection Type -->
            <GroupBox Header="Connection Type" Margin="5">
                <StackPanel Orientation="Horizontal" Margin="5">
                    <RadioButton x:Name="rbSerial" Content="Serial" Margin="5" IsChecked="True"/>
                    <RadioButton x:Name="rbSsh" Content="SSH" Margin="5"/>
                    <RadioButton x:Name="rbTelnet" Content="Telnet" Margin="5"/>
                </StackPanel>
            </GroupBox>

            <!-- Connection Specifics -->
            <GroupBox Header="Connection Settings" Margin="5">
                <StackPanel>
                    <!-- Serial Panel -->
                    <Grid x:Name="pnlSerial">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/><RowDefinition Height="Auto"/><RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/><RowDefinition Height="Auto"/><RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/><ColumnDefinition Width="*"/><ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="COM Port:" Grid.Row="0" Grid.Column="0" VerticalAlignment="Center"/>
                        <ComboBox x:Name="cbPort" Grid.Row="0" Grid.Column="1" VerticalAlignment="Center" IsEditable="False"/>
                        <Button x:Name="btnRefreshPorts" Content="Refresh" Grid.Row="0" Grid.Column="2" Padding="5,2" Margin="0,5,5,5"/>

                        <Label Content="Baud Rate:" Grid.Row="1" Grid.Column="0" VerticalAlignment="Center" Margin="5"/>
                        <ComboBox x:Name="cbBaud" Grid.Row="1" Grid.Column="1" VerticalAlignment="Center" Margin="0,5,5,5"/>
                        <Label Content="Data Bits:" Grid.Row="2" Grid.Column="0" VerticalAlignment="Center" Margin="5"/>
                        <ComboBox x:Name="cbDataBits" Grid.Row="2" Grid.Column="1" VerticalAlignment="Center" Margin="0,5,5,5"/>
                        <Label Content="Parity:" Grid.Row="3" Grid.Column="0" VerticalAlignment="Center" Margin="5"/>
                        <ComboBox x:Name="cbParity" Grid.Row="3" Grid.Column="1" VerticalAlignment="Center" Margin="0,5,5,5"/>
                        <Label Content="Stop Bits:" Grid.Row="4" Grid.Column="0" VerticalAlignment="Center" Margin="5"/>
                        <ComboBox x:Name="cbStopBits" Grid.Row="4" Grid.Column="1" VerticalAlignment="Center" Margin="0,5,5,5"/>
                        <Label Content="Handshake:" Grid.Row="5" Grid.Column="0" VerticalAlignment="Center" Margin="5"/>
                        <ComboBox x:Name="cbHandshake" Grid.Row="5" Grid.Column="1" VerticalAlignment="Center" Margin="0,5,5,5"/>
                        <Label Content="Enable DTR:" Grid.Row="6" Grid.Column="0" VerticalAlignment="Center" Margin="5"/>
                        <CheckBox x:Name="chkDtrEnable" Grid.Row="6" Grid.Column="1" VerticalAlignment="Center" Margin="0,5,5,5"/>
                    </Grid>
                    <!-- SSH Panel -->
                    <Grid x:Name="pnlSsh" Visibility="Collapsed">
                        <Grid.RowDefinitions><RowDefinition Height="Auto"/><RowDefinition Height="Auto"/><RowDefinition Height="Auto"/></Grid.RowDefinitions>
                        <Grid.ColumnDefinitions><ColumnDefinition Width="Auto"/><ColumnDefinition Width="*"/></Grid.ColumnDefinitions>
                        <Label Content="Host / IP:" Grid.Row="0" Grid.Column="0" VerticalAlignment="Center" Margin="5"/>
                        <TextBox x:Name="txtSshHost" Grid.Row="0" Grid.Column="1" VerticalAlignment="Center" Margin="0,5,5,5"/>
                        <Label Content="Username:" Grid.Row="1" Grid.Column="0" VerticalAlignment="Center" Margin="5"/>
                        <TextBox x:Name="txtSshUser" Grid.Row="1" Grid.Column="1" VerticalAlignment="Center" Margin="0,5,5,5"/>
                        <Label Content="Port:" Grid.Row="2" Grid.Column="0" VerticalAlignment="Center" Margin="5"/>
                        <TextBox x:Name="txtSshPort" Grid.Row="2" Grid.Column="1" VerticalAlignment="Center" Margin="0,5,5,5"/>
                    </Grid>
                    <!-- Telnet Panel -->
                    <Grid x:Name="pnlTelnet" Visibility="Collapsed">
                        <Grid.RowDefinitions><RowDefinition Height="Auto"/><RowDefinition Height="Auto"/></Grid.RowDefinitions>
                        <Grid.ColumnDefinitions><ColumnDefinition Width="Auto"/><ColumnDefinition Width="*"/></Grid.ColumnDefinitions>
                        <Label Content="Host / IP:" Grid.Row="0" Grid.Column="0" VerticalAlignment="Center" Margin="5"/>
                        <TextBox x:Name="txtTelnetHost" Grid.Row="0" Grid.Column="1" VerticalAlignment="Center" Margin="0,5,5,5"/>
                        <Label Content="Port:" Grid.Row="1" Grid.Column="0" VerticalAlignment="Center" Margin="5"/>
                        <TextBox x:Name="txtTelnetPort" Grid.Row="1" Grid.Column="1" VerticalAlignment="Center" Margin="0,5,5,5"/>
                    </Grid>
                </StackPanel>
            </GroupBox>
            
            <!-- Auto-Input Script -->
            <GroupBox Header="Auto-Input Script" Margin="5">
                <TextBox x:Name="txtAutoInput" AcceptsReturn="True" TextWrapping="Wrap" MinHeight="60" VerticalScrollBarVisibility="Auto" Margin="5"/>
            </GroupBox>
        </StackPanel>

        <!-- Right Pane -->
        <GroupBox Header="Terminal and Logging" Grid.Row="1" Grid.Column="1" Margin="5" Grid.RowSpan="2">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/><RowDefinition Height="Auto"/><RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/><RowDefinition Height="Auto"/><RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/><RowDefinition Height="Auto"/><RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/><ColumnDefinition Width="*"/><ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <Label Content="Text Color:" Grid.Row="0" Grid.Column="0" VerticalAlignment="Center" Margin="5"/>
                <ComboBox x:Name="cbTextColor" Grid.Row="0" Grid.Column="1" VerticalAlignment="Center" Margin="0,5,5,5"/>
                <Label Content="Background Color:" Grid.Row="1" Grid.Column="0" VerticalAlignment="Center" Margin="5"/>
                <ComboBox x:Name="cbBgColor" Grid.Row="1" Grid.Column="1" VerticalAlignment="Center" Margin="0,5,5,5"/>
                <Label Content="Cursor Size:" Grid.Row="2" Grid.Column="0" VerticalAlignment="Center" Margin="5"/>
                <ComboBox x:Name="cbCursorSize" Grid.Row="2" Grid.Column="1" VerticalAlignment="Center" Margin="0,5,5,5"/>
                
                <Label Content="Force Terminal Colors:" Grid.Row="3" Grid.Column="0" VerticalAlignment="Center" Margin="5"/>
                <CheckBox x:Name="chkForceColors" Grid.Row="3" Grid.Column="1" VerticalAlignment="Center" Margin="0,5,5,5"/>
                <Label Content="Send Keep-Alive:" Grid.Row="4" Grid.Column="0" VerticalAlignment="Center" Margin="5"/>
                <CheckBox x:Name="chkKeepAlive" Grid.Row="4" Grid.Column="1" VerticalAlignment="Center" Margin="0,5,5,5"/>
                
                <Label Content="Enable Logging:" Grid.Row="5" Grid.Column="0" VerticalAlignment="Center" Margin="5"/>
                <CheckBox x:Name="chkBackgroundLogging" Grid.Row="5" Grid.Column="1" VerticalAlignment="Center" Margin="0,5,5,5"/>
                <Label Content="Log File Path:" Grid.Row="6" Grid.Column="0" VerticalAlignment="Center" Margin="5"/>
                <TextBox x:Name="txtLogFilePath" Grid.Row="6" Grid.Column="1" VerticalAlignment="Center" Margin="0,5,5,5"/>
                <Button x:Name="btnBrowseLog" Content="..." Grid.Row="6" Grid.Column="2" Padding="5,2" Margin="0,5,5,5"/>

                <Label Content="Log Raw Stream Data:" Grid.Row="7" Grid.Column="0" VerticalAlignment="Center" Margin="5"/>
                <CheckBox x:Name="chkRawLogData" Grid.Row="7" Grid.Column="1" VerticalAlignment="Center" Margin="0,5,5,5"/>
                <Label Content="Obfuscate Passwords:" Grid.Row="8" Grid.Column="0" VerticalAlignment="Center" Margin="5"/>
                <CheckBox x:Name="chkObfuscate" Grid.Row="8" Grid.Column="1" VerticalAlignment="Center" Margin="0,5,5,5"/>
            </Grid>
        </GroupBox>

        <!-- Bottom Buttons -->
        <Grid Grid.Row="3" Grid.Column="0" Grid.ColumnSpan="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Button x:Name="btnAbout" Content="About" HorizontalAlignment="Left" MinWidth="80" Margin="10,5,5,5" Padding="10,2"/>

            <StackPanel Orientation="Horizontal" Grid.Column="1" HorizontalAlignment="Right" Margin="5">
                <Button x:Name="btnConnect" Content="Connect" IsDefault="True" MinWidth="80" Margin="5" Padding="10,2"/>
                <Button x:Name="btnCancel" Content="Cancel" IsCancel="True" MinWidth="80" Margin="5" Padding="10,2"/>
            </StackPanel>
        </Grid>
    </Grid>
</Window>
